<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="o[.:1cIDVX+2J}K!C%+P">tareActive</variable><variable id="!/Jb^lpAme0xb1jhjB/}">command</variable><variable id=":lbO/Mxv))OWE)YV(2;E">stringIn</variable><variable id="96#:RG9keB@Ku:!v,!|e">params</variable><variable id="/qm[ZLgc/-#j}%DV=TQB">rawWeight</variable><variable id="_PdeM,Tz!Q/2Gq)VkeaT">rawWeightx10</variable><variable id="c6:^5Lwc.Gzk!EQ.TRHb">weight</variable><variable id="z7caRp!,Gl7U?_]TYfom">dateTimeReadings</variable><variable id="THn4VOHTq10n)f}*:_sU">weightReadings</variable><variable id=":+nQWG]vAcj1lQ*]YOc2">readingsLength</variable><variable id="a6br+I!8,{Rl?sb*is8Z">connected</variable><variable id="r;#U}gjXgjG=^C#^Fte[">pumpOnTime</variable><variable id="J8%`JUVwR.=^!J6Z.Tqd">index2</variable><variable id="~GX`OkmkT(H^MMuSL$;I">yr</variable><variable id="jF_0{;iNedTZDrXJ}]E@">mo</variable><variable id="eyp[t{j_-nI)E%Y$s9k+">dt</variable><variable id="b#{KibGcy;U8xRI%sKnY">hh</variable><variable id="-%cdYfR4jyiXRSYu90S?">mm</variable><variable id=")x_=}/~CelePwG(eXkel">charIn</variable><variable id="Fns%]V+s^V8viJ+,D.wR">weightLimit</variable><variable id="+eCWH:sd8f9z}~5]=Ct$">readingPeriod</variable><variable id="GmEI#A|45/U`t(J##FfH">pumpState</variable><variable id="oLHcrs7|c6$Khdcg$[rP">readingsMax</variable><variable id="G^~86z7EYi]b=9BiInZg">pumpSettleTime</variable><variable id="F3TIJf.#U^0^i7-v=n$H">numTare</variable><variable id="CO`T+9qKR`yc.QoN;VIt">lastWeight</variable><variable id="87,_iy0N(;Y_nsA2*Lp;">deltaWeight</variable></variables><block type="bluetooth_on_connected" id="Xiv[=-X(b*9K%hD*ga/G" x="1416" y="-247"><comment pinned="false" h="80" w="160" relx="10" rely="10">Upload readings to BT</comment><statement name="HANDLER"><block type="variables_set" id="yxn,:a[xxUsgDo*FdoPD"><field name="VAR" id="a6br+I!8,{Rl?sb*is8Z">connected</field><value name="VALUE"><shadow type="math_number" id="q2h}L|7mc^08}gQ?:@@_"><field name="NUM">1</field></shadow></value><next><block type="basic_show_icon" id="*|u2@L!k!yzkMv`LQ_ud"><field name="i">IconNames.Square</field><next><block type="function_call" id="}5b9zNnuB*2^-@diJ9(l"><mutation name="upload" functionid="wPb?VCmxQ`K9V;S$;seX"/></block></next></block></next></block></statement></block><block type="bluetooth_on_disconnected" id="D4DSQnK15;ac$jxlh|wQ" x="1754" y="-245"><statement name="HANDLER"><block type="variables_set" id="0ej/yOuzlBY$zv6[Zw3M"><field name="VAR" id="a6br+I!8,{Rl?sb*is8Z">connected</field><value name="VALUE"><shadow type="math_number" id="-4r0ZNdyegv2w_]o+O1S"><field name="NUM">0</field></shadow></value><next><block type="device_clear_display" id="5;KU[@)Z|_H]j;~XWjn-"/></next></block></statement></block><block type="device_button_event" id="DZy^?]/78X[vV]1e.@*S" x="2085" y="-235"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="function_call" id="n7FX%=%fgEK~mM+-Tw_Z"><mutation name="emptyTank" functionid="dGpqjZHmw_m|Emrf+t-f"/></block></statement></block><block type="pxt-on-start" id="#f8++ARjZ)+rrNLNolf@" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="2I@vWB=-N+=hLIOyG~F4"><field name="VAR" id="GmEI#A|45/U`t(J##FfH">pumpState</field><value name="VALUE"><shadow type="math_number" id="$!.5Ja%I*AIdM98je8^|"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="D(vo+pUWRbd.Hv-i_X%5"><field name="VAR" id="r;#U}gjXgjG=^C#^Fte[">pumpOnTime</field><value name="VALUE"><shadow type="math_number" id="dE0rut@SddMrur34=e:E"><field name="NUM">20000</field></shadow></value><next><block type="variables_set" id="-b{g=/e?}O2NP!,M=s~L"><field name="VAR" id="G^~86z7EYi]b=9BiInZg">pumpSettleTime</field><value name="VALUE"><shadow type="math_number" id="uMIZg~%,o.|=#e$Xk](_"><field name="NUM">30000</field></shadow></value><next><block type="variables_set" id="N5__kr4@kDM1zkY`bHN`"><field name="VAR" id="+eCWH:sd8f9z}~5]=Ct$">readingPeriod</field><value name="VALUE"><shadow type="math_number" id="#6WaZ?AzUS+MQ:!~Y1M*"><field name="NUM">60000</field></shadow></value><next><block type="variables_set" id="*|pEKBDle}R}0`E?ZYR4"><field name="VAR" id="oLHcrs7|c6$Khdcg$[rP">readingsMax</field><value name="VALUE"><shadow type="math_number" id="{WrJ9;qW/~S@Vys@.DYo"><field name="NUM">3000</field></shadow></value><next><block type="variables_set" id="TXw`fKNP+U]%vRbSTjcc"><field name="VAR" id="z7caRp!,Gl7U?_]TYfom">dateTimeReadings</field><comment pinned="false" h="80" w="160" relx="10" rely="10">storage</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="GKo5Su|O-D@`KRG6:TGC"><mutation items="0" horizontalafter="3"/></block></value><next><block type="variables_set" id="J$El:91hi=~7vqKBMpdX"><field name="VAR" id="87,_iy0N(;Y_nsA2*Lp;">deltaWeight</field><value name="VALUE"><shadow type="math_number" id="FpNB,x[B5n$#AZ/.|f#x"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="KdCNFiSDk9$F.6[#R[VK"><field name="VAR" id="THn4VOHTq10n)f}*:_sU">weightReadings</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="8b5qLYDRl+GFc~*WEKFm"><mutation items="0" horizontalafter="3"/></block></value><next><block type="variables_set" id="/aKVrNkNt*]/o@u~Ip1i"><field name="VAR" id="Fns%]V+s^V8viJ+,D.wR">weightLimit</field><value name="VALUE"><shadow type="math_number" id="4AoX1WMf9)0j$!,/x3BO"><field name="NUM">300</field></shadow></value><next><block type="variables_set" id="D|-[aZLV*(LAEl,B09(+"><field name="VAR" id="F3TIJf.#U^0^i7-v=n$H">numTare</field><value name="VALUE"><shadow type="math_number" id="R?6oLfc8X-,5+0UaL#,B"><field name="NUM">10</field></shadow></value><next><block type="variables_set" id="^QRB0c.7S5Oro=lyA]pW"><field name="VAR" id="o[.:1cIDVX+2J}K!C%+P">tareActive</field><value name="VALUE"><shadow type="math_number" id="zaJV^5jHj9.VB$*n]YZg"><field name="NUM">0</field></shadow></value><next><block type="device_clear_display" id="H99P5~4,|bav^e*`!/QK"><next><block type="bluetooth_start_uart_service" id="sCXn`o[Sw:.}APg+ex%,"><next><block type="function_call" id="0vD`xVcH6*n^2[T9m~Un"><mutation name="pumpControl" functionid="6:x;,D8u.NSmif-S+Js^"><arg name="pumpState" id="x28bbz4ft2j1hu9v3bajo" type="number"/></mutation><value name="x28bbz4ft2j1hu9v3bajo"><shadow type="math_number" id="3hB!Uy,t[#$ZuhkF4R^m"><field name="NUM">0</field></shadow></value><next><block type="SET_DOUT" id="6{R=Wxo$ZGMoyYtGZeeU"><field name="pinDOUT">DigitalPin.P1</field><next><block type="SET_SCK" id="Y|9OT=0~mCC@;2=)Pb^="><field name="pinPD_SCK">DigitalPin.P2</field><next><block type="HX711_BEGIN" id="WL?8}e$s_#]Fo[TIJKM%"><next><block type="HX711_SET_OFFSET" id="^jy~jp%k{?1^L)sG=O9F"><value name="offset"><shadow type="math_number" id="^b[w6uM7#A!Ki~#ViW#?"><field name="NUM">8481274</field></shadow></value><next><block type="HX711_SET_SCALE" id=":ihTwr8m*!KxSKJ0JP:D"><value name="scale"><shadow type="math_number" id="T/[K,Uk%G%F]exYEmh/G"><field name="NUM">415</field></shadow></value><next><block type="serial_writeline" id=",%}gw@!|;c5I6hl7|IoS"><value name="text"><shadow type="text" id="!{C8^?HS4pa]%uj],;`}"><field name="TEXT">#*** Button A=pump ON for 20s ***</field></shadow></value><next><block type="function_call" id="EeWl%y}HMSnzQ#]hd*j#"><mutation name="logEvent" functionid="47!df`*?qBfWvt@I=xqE"><arg name="text" id="btg5epurqsi5g9s242g6" type="string"/></mutation><value name="btg5epurqsi5g9s242g6"><shadow type="text" id="K6wz.?kXAH$)[l-LF-[i"><field name="TEXT">#Start up</field></shadow></value><next><block type="function_call" id="S[2Ez:i}OXXgl8EQyPiu"><mutation name="emptyTank" functionid="dGpqjZHmw_m|Emrf+t-f"/><next><block type="variables_set" id="CCjXWbT^`,bs;ThSY+._"><field name="VAR" id=":lbO/Mxv))OWE)YV(2;E">stringIn</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="*;u(evma`ZGE_Wnw!qnR"><field name="TEXT"/></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="w8DVL#],,k`^5RUeVF!S" x="582" y="41"><comment pinned="false" h="80" w="160" relx="10" rely="10">Process serial input </comment><statement name="HANDLER"><block type="variables_set" id="Cq(E{`Q7(6E567/$Zgzu"><field name="VAR" id=")x_=}/~CelePwG(eXkel">charIn</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="serial_read_buffer" id="!uGo2S2sJ}Wf?Vq5ei}k"/></value><next><block type="variables_set" id="LRW{1yl_07~)fAvfCg$}"><field name="VAR" id=":lbO/Mxv))OWE)YV(2;E">stringIn</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id="Y^G?FBa`TZ$T--37?Lr0"><mutation items="2"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="5fW|H~7HnC?i!DAq$a]W"><field name="VAR" id=":lbO/Mxv))OWE)YV(2;E">stringIn</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="y`0{[OPjW/b4Cm`M:_[`"><field name="VAR" id=")x_=}/~CelePwG(eXkel">charIn</field></block></value></block></value><next><block type="controls_if" id="G-Gp.9fv_YGt)VMe.Y,+"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="44FOyN^}4U5R0kU%A,(b"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id="H`M[d7zE6`6jIe@qg}/$"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="BtBi:,2d%(i/1Lhwz71v"><field name="VAR" id=")x_=}/~CelePwG(eXkel">charIn</field></block></value><value name="that"><block type="stringFromCharCode" id="le@ImPfBM~3FjyuxujQs"><value name="code"><shadow type="math_number" id="/m1h!`V~bL8!)C|jDvru"><field name="NUM">13</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number" id="Rc@N,hX/hm}e;5GxN^Jm"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="serial_writestring" id="sD*!^iaSB/88,2^w$h}{"><value name="text"><block type="text_join" id="Y-4]{ZRH,ZX(6]aCfT3f"><mutation items="2"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="stringFromCharCode" id="%mVVJmpgB7;iPS?pLC8l"><value name="code"><shadow type="math_number" id="th7CNUGQEh!~[L!Y%j(l"><field name="NUM">13</field></shadow></value></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="stringFromCharCode" id="~nH0bJ9l91^yI*qB#,E%"><value name="code"><shadow type="math_number" id="VE)%2#BQ)O74Z;G[U1w$"><field name="NUM">10</field></shadow></value></block></value></block></value><next><block type="function_call" id="y`0j|1#*n;8F2VfiXGma"><mutation name="parseCommand" functionid="KmB61sAGq6L2QZt1^NC("/><next><block type="variables_set" id="dha*.y/1jBevc1LMGTDa"><field name="VAR" id=":lbO/Mxv))OWE)YV(2;E">stringIn</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="USZTUWwvT?F.Eo1d4$7:"><field name="TEXT"/></block></value></block></next></block></next></block></statement><statement name="ELSE"><block type="serial_writestring" id="MX*/G/DIOv/!!ej^E^Ic"><value name="text"><block type="variables_get" id="1@^2Z5IKMMX|:%gzgPjT"><field name="VAR" id=")x_=}/~CelePwG(eXkel">charIn</field></block></value></block></statement></block></next></block></next></block></statement></block><block type="function_definition" id="FAv|Zh:,M~)g_3)KOU$^" x="1851" y="188"><mutation name="readWeight" functionid="as:=zE6#NK.~7_)hbU7f"/><field name="function_name">readWeight</field><comment pinned="true" h="80" w="160" relx="-292" rely="-93">Read and report weight every xx minutes</comment><statement name="STACK"><block type="controls_if" id="6$MkqNIOFGwIAgC^~$hD"><comment pinned="true" h="80" w="160" relx="-328" rely="-21">Display continuously read weight, unless tare is operating</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="@HxNXV0uk@d#i]E%d[.P"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="^)9HX9{GP|sZRxBeYK~`"><field name="VAR" id="o[.:1cIDVX+2J}K!C%+P">tareActive</field></block></value><value name="B"><shadow type="math_number" id="w9.?cbwGMU!`m$53u%3n"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="]7oZA+:iSTD-QUTYim!P"><field name="VAR" id="CO`T+9qKR`yc.QoN;VIt">lastWeight</field><value name="VALUE"><shadow type="math_number" id="WcXqC,Gb,,YE4BJ=?F40"><field name="NUM">0</field></shadow><block type="variables_get" id=")K#E0X{2ezmcosZJd7K."><field name="VAR" id="c6:^5Lwc.Gzk!EQ.TRHb">weight</field></block></value><next><block type="HX711_UP" id="5o^$s1EZ_l9pNbUacSM`"><next><block type="variables_set" id="l$t~#].@-HaK%WExumy("><field name="VAR" id="/qm[ZLgc/-#j}%DV=TQB">rawWeight</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="HX711_GET_UNITS" id="8j[9q}6cipC-Vi1J$0IQ"><value name="times"><shadow type="math_number" id="j41vlZpdg3eCwH=Oh?WY"><field name="NUM">20</field></shadow></value></block></value><next><block type="variables_set" id="|fc9(@v:UC7:o6Am{%VB"><field name="VAR" id="_PdeM,Tz!Q/2Gq)VkeaT">rawWeightx10</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="un5M=i~H[dmcwrPEg0(Q"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=")zlh!|vk51o^*u^f$B;r"><field name="VAR" id="/qm[ZLgc/-#j}%DV=TQB">rawWeight</field></block></value><value name="B"><shadow type="math_number" id=";3jHh/IIU[g^:GVON~7H"><field name="NUM">10</field></shadow></value></block></value><next><block type="variables_set" id="(:(EKavoJCtAomTvQ}K|"><field name="VAR" id="c6:^5Lwc.Gzk!EQ.TRHb">weight</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="^SxlN2SR::B7Y-0hcOQf"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_round" id="^JR#oT*9GxEc@VU+.@*7"><field name="OP">round</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="3`-@caV~j~7f6~Lg,8/P"><field name="VAR" id="_PdeM,Tz!Q/2Gq)VkeaT">rawWeightx10</field></block></value></block></value><value name="B"><shadow type="math_number" id="G)JkDXE!te2IY*{!L`8y"><field name="NUM">10</field></shadow></value></block></value><next><block type="serial_writeline" id="x6!:9*:r.]1Q7`58o7Fa"><value name="text"><block type="text_join" id="CZ)^I$yHbp-1]{(Jpsji"><mutation items="3"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="function_call_output" id="$:yE9O;tk,II4Gy2=^y]"><mutation name="dateTimeString" functionid="dUf=s]]`5fYV=pP{9/cu"/></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="9G8ZPECTyPZ6i9Z*vjym"><field name="VAR" id="c6:^5Lwc.Gzk!EQ.TRHb">weight</field></block></value><value name="ADD2"><shadow type="text" id="1gKHi;sSyL-nb,Jt+5nK"><field name="TEXT">g</field></shadow></value></block></value><next><block type="HX711_DOWN" id="9f!?aHH:HaKMd(-Y(2TI"/></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type="function_definition" id="0b2N-[Frjc*n`25*GQ~h" x="2722" y="237"><mutation name="storeWeight" functionid="NS[z)Tl]})bpRQt#Ct.@"/><field name="function_name">storeWeight</field><statement name="STACK"><block type="array_push" id="9WY^y_#wK_;-_~R?M,`U"><value name="list"><block type="variables_get" id="_oS#L0aJJigCc8zLy?Lb"><field name="VAR" id="z7caRp!,Gl7U?_]TYfom">dateTimeReadings</field></block></value><value name="value"><block type="function_call_output" id="feWeDcZQmt3:QpP_*;Ya"><mutation name="dateTimeString" functionid="dUf=s]]`5fYV=pP{9/cu"/></block></value><next><block type="array_push" id="-DLcMv./pLLjVcY;xS{v"><value name="list"><block type="variables_get" id="`+jJ9iod#v1.1?HUS|;,"><field name="VAR" id="THn4VOHTq10n)f}*:_sU">weightReadings</field></block></value><value name="value"><block type="text_join" id="62K6ODZtvu.c1yh82N?Y"><mutation items="2"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="ApCeXh}P/1q,8TWf2T~c"><field name="VAR" id="c6:^5Lwc.Gzk!EQ.TRHb">weight</field></block></value><value name="ADD1"><shadow type="text" id="5ICc#FZx3%.}o4AUOL9j"><field name="TEXT">g</field></shadow></value></block></value></block></next></block></statement></block><block type="every_interval" id="C98yLXnfwdHwA05y=qfi" x="881" y="570"><comment pinned="false" h="80" w="160" relx="10" rely="10">Read the weight</comment><value name="interval"><shadow type="longTimePicker" id="bcbaW*8XcH59T^oy:zb;"><field name="ms">500</field></shadow><block type="variables_get" id="G!Uj^S_NB:y+8G5d?%J%"><field name="VAR" id="+eCWH:sd8f9z}~5]=Ct$">readingPeriod</field></block></value><statement name="HANDLER"><block type="function_call" id="9(65k3!q-avhqNHB9vw9"><mutation name="readWeight" functionid="as:=zE6#NK.~7_)hbU7f"/><next><block type="basic_show_icon" id="FqTwq-1S?SrqMS#,9;~#"><field name="i">IconNames.Heart</field><comment pinned="false" h="80" w="160" relx="10" rely="10">Brief heartbeat</comment><next><block type="device_pause" id="y1lwREdXrczENhz^b}:x"><value name="pause"><shadow type="timePicker" id="YJeElE+Q}9be;*hIyI_t"><field name="ms">100</field></shadow></value><next><block type="device_clear_display" id="FvmoL$r39~cC9_q|nw?p"><next><block type="controls_if" id="_I3$M]=}o^mt#4[dV39G"><comment pinned="false" h="80" w="160" relx="-199" rely="-17">Only store significant weight change</comment><value name="IF0"><shadow type="logic_boolean" id="^dDmjks+@`v;4A1,M~L,"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="A7/X[f]a6k[;,g^t[1.w"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="n8*l64dsY/DbTP;rhTc3"><field name="NUM">0</field></shadow><block type="math_op3" id="`9Lg]vN#?MXkh}fw[B$p"><value name="x"><shadow type="math_number" id="ICc%bD_doN3F*RWyh93@"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="p(C#y09Tkn0;y`VpkVT)"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="T+B3X?erDR7K}stUpc|a"><field name="NUM">0</field></shadow><block type="variables_get" id="*X)XJFfqzxq]#F?IiQaO"><field name="VAR" id="c6:^5Lwc.Gzk!EQ.TRHb">weight</field></block></value><value name="B"><shadow type="math_number" id="3ad@}lzq~!/,/eLLKe^,"><field name="NUM">0</field></shadow><block type="variables_get" id="wGKBrlDk)brkI8?9o:JY"><field name="VAR" id="CO`T+9qKR`yc.QoN;VIt">lastWeight</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="~FsMvGA2Y$QmV}sLimOE"><field name="NUM">0</field></shadow><block type="variables_get" id="F.;gQhbLv6s^*7E:;B(W"><field name="VAR" id="87,_iy0N(;Y_nsA2*Lp;">deltaWeight</field></block></value></block></value><statement name="DO0"><block type="function_call" id="-m}aCtWBoW]+OjTIG!?R"><mutation name="storeWeight" functionid="NS[z)Tl]})bpRQt#Ct.@"/></block></statement><next><block type="controls_if" id=":{iZ`SP2s#^%yoVE+bfF"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=")M{A%wx}pc/ujXDs[l(7"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="HD%dd0q0/NPQRAb*{y;S"><field name="VAR" id="c6:^5Lwc.Gzk!EQ.TRHb">weight</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="uIatC^l%*6]wyn_nw?CU"><field name="VAR" id="Fns%]V+s^V8viJ+,D.wR">weightLimit</field></block></value></block></value><statement name="DO0"><block type="function_call" id="zFR60^m^M~/#g%1GFPvF"><mutation name="readWeight" functionid="as:=zE6#NK.~7_)hbU7f"/><comment pinned="true" h="80" w="160" relx="-274" rely="-64">Read again to allow for glitches</comment><next><block type="controls_if" id="H;nNyK=UR,tcB%3y4m{."><comment pinned="true" h="80" w="160" relx="-289" rely="8">Empty only if 2 successive reads are over the weight limit</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="AbKF*mCC@`[6*fw)O*$A"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="TOxE5ak.qreAPJ9BE$.s"><field name="VAR" id="c6:^5Lwc.Gzk!EQ.TRHb">weight</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="R/gqTYp,pc;F7jYr(R(1"><field name="VAR" id="Fns%]V+s^V8viJ+,D.wR">weightLimit</field></block></value></block></value><statement name="DO0"><block type="function_call" id="cD^@jwW8H}@rnx(h]=tm"><mutation name="emptyTank" functionid="dGpqjZHmw_m|Emrf+t-f"/></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="Qi`,vr}Kn!oNCqK#(*~L" x="7" y="1152"><mutation name="dateTimeString" functionid="dUf=s]]`5fYV=pP{9/cu"/><field name="function_name">dateTimeString</field><statement name="STACK"><block type="function_return" id="XY,iTH_z#70~;+!AypyA"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id="vudPaXP-YV*,jkp}s4o_" inline="false"><mutation items="10"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="function_call_output" id="!1^T$j!BfRy#TpFX}}Ww"><mutation name="leadingZero" functionid="ghS)X8ilP$WBZ{Xs}%s,"><arg name="num" id="lklay7iph6njrsju2x7md" type="number"/></mutation><value name="lklay7iph6njrsju2x7md"><shadow type="math_number" id="iqS?Kx$mL!Q-W#@@?;dl"><field name="NUM">1</field></shadow><block type="DS3231_GET_DATE" id="V_t-AM-C7nIOnn8L_v_V"/></value></block></value><value name="ADD1"><shadow type="text" id="^US0;,te+b3A{%~c7C:e"><field name="TEXT">/</field></shadow></value><value name="ADD2"><shadow type="text"><field name="TEXT"/></shadow><block type="function_call_output" id="b%JsgSfCY.GLEW{BNnmB"><mutation name="leadingZero" functionid="ghS)X8ilP$WBZ{Xs}%s,"><arg name="num" id="lklay7iph6njrsju2x7md" type="number"/></mutation><value name="lklay7iph6njrsju2x7md"><shadow type="math_number" id="NHBQj81[lJQu8AM}YY(G"><field name="NUM">1</field></shadow><block type="DS3231_GET_MONTH" id="t)e,{v$slh4aWeGpU!{C"/></value></block></value><value name="ADD3"><shadow type="text" id="yqKgV`9~4/fWJZXu3:,["><field name="TEXT">/</field></shadow></value><value name="ADD4"><shadow type="text"><field name="TEXT"/></shadow><block type="DS3231_GET_YEAR" id="?YPs7+2Ty7`6fUMv|3qf"/></value><value name="ADD5"><shadow type="text" id="(zUM.pXs3[q_r|YTrZ$H"><field name="TEXT"> </field></shadow></value><value name="ADD6"><shadow type="text"><field name="TEXT"/></shadow><block type="function_call_output" id="OP$@U[!-/o-Z!R,JWDS9"><mutation name="leadingZero" functionid="ghS)X8ilP$WBZ{Xs}%s,"><arg name="num" id="lklay7iph6njrsju2x7md" type="number"/></mutation><value name="lklay7iph6njrsju2x7md"><shadow type="math_number" id="}?NHiUqt61n(y+y{bbAN"><field name="NUM">1</field></shadow><block type="DS3231_GET_HOUR" id="?PYu4xILmFw87Z9lrMgL"/></value></block></value><value name="ADD7"><shadow type="text" id="sg`aY+g.U9QT]/l!|L#!"><field name="TEXT">:</field></shadow></value><value name="ADD8"><shadow type="text"><field name="TEXT"/></shadow><block type="function_call_output" id="e/Hwid87cf?EPxio-5jj"><mutation name="leadingZero" functionid="ghS)X8ilP$WBZ{Xs}%s,"><arg name="num" id="lklay7iph6njrsju2x7md" type="number"/></mutation><value name="lklay7iph6njrsju2x7md"><shadow type="math_number" id="QALbw=J{/IYP,m[gRZ23"><field name="NUM">1</field></shadow><block type="DS3231_GET_MINUTE" id="|Un=x8,~Ua;td4]G)qlp"/></value></block></value><value name="ADD9"><shadow type="text" id="E-i]`fQbOCMWD^nOJ9,}"><field name="TEXT"> </field></shadow></value></block></value></block></statement></block><block type="function_definition" id="k$ZBTb02sV!v2Y$E:%9K" x="2224" y="1115"><mutation name="leadingZero" functionid="ghS)X8ilP$WBZ{Xs}%s,"><arg name="num" id="lklay7iph6njrsju2x7md" type="number"/></mutation><field name="function_name">leadingZero</field><value name="lklay7iph6njrsju2x7md"><shadow type="argument_reporter_number" id="W+,}b,rG{l@@6c+(`~Eo"><field name="VALUE">num</field></shadow></value><statement name="STACK"><block type="controls_if" id="`uB4z~patp3*xR,!4i8O"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="z|CcY9/da_):JfhDCg:5"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="B(uN%E)oLko:,,D4ju-n"><field name="VALUE">num</field></block></value><value name="B"><shadow type="math_number" id=":nR=Gfo82ba,_[#-%LeZ"><field name="NUM">10</field></shadow></value></block></value><statement name="DO0"><block type="function_return" id="cRErNN-fzlV+-p0RB)F-"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id="vGME6io[9U_IBM5jqP|0"><mutation items="2"/><value name="ADD0"><shadow type="text" id=")2}K+X@c`JF?Tkni1AKO"><field name="TEXT">0</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="argument_reporter_number" id="cY(VY)(m:5EWm8pZ]{OG"><field name="VALUE">num</field></block></value></block></value></block></statement><statement name="ELSE"><block type="function_return" id="rFFrxjI/egF+Mf0Pb@sn"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variable_to_text" id="#YM=2G|OzG#:0@Z4LQPV"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="L2WW1oXm7OP}gobBzR[Y"><field name="VALUE">num</field></block></value></block></value></block></statement></block></statement></block><block type="function_definition" id="^VgE,C#JMiAKYu4SvW/m" x="1889" y="1133"><mutation name="emptyTank" functionid="dGpqjZHmw_m|Emrf+t-f"/><field name="function_name">emptyTank</field><statement name="STACK"><block type="function_call" id="SFG@OQM)4./vLIBduE9$"><mutation name="logEvent" functionid="47!df`*?qBfWvt@I=xqE"><arg name="text" id="btg5epurqsi5g9s242g6" type="string"/></mutation><value name="btg5epurqsi5g9s242g6"><shadow type="text" id="phoOoo{m7Uc9.nz-;iGV"><field name="TEXT">#Empty tank</field></shadow></value><next><block type="function_call" id=").7P){OSVSHni2b:EV}u"><mutation name="pumpControl" functionid="6:x;,D8u.NSmif-S+Js^"><arg name="pumpState" id="x28bbz4ft2j1hu9v3bajo" type="number"/></mutation><value name="x28bbz4ft2j1hu9v3bajo"><shadow type="math_number" id="k_zyX/fV~`ypL]`BrV~T"><field name="NUM">1</field></shadow></value><next><block type="device_pause" id="~cI4YH0]$if;a/-hCO41"><value name="pause"><shadow type="timePicker"/><block type="variables_get" id="L6.q@d,f#!b,R5hTSh4b"><field name="VAR" id="r;#U}gjXgjG=^C#^Fte[">pumpOnTime</field></block></value><next><block type="function_call" id="S-^1K#qP#?qB7lfdxUB+"><mutation name="pumpControl" functionid="6:x;,D8u.NSmif-S+Js^"><arg name="pumpState" id="x28bbz4ft2j1hu9v3bajo" type="number"/></mutation><value name="x28bbz4ft2j1hu9v3bajo"><shadow type="math_number" id="f1Dp,#h@9tx?oQ|1!{-]"><field name="NUM">0</field></shadow></value><next><block type="device_pause" id="[?^+_{),Qya.:U:.sd*J"><value name="pause"><shadow type="timePicker" id="A,#%/7%`C0I||y/CKBG)"><field name="ms">10000</field></shadow></value><next><block type="function_call" id="r+bXyofvyBaZ3l1N+A6*"><mutation name="doTare" functionid="/-=H6e~$_TEF0%*qE}fQ"/></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="goz}c6[n@!,zj%KBk.Lz" x="2639" y="1133"><mutation name="logEvent" functionid="47!df`*?qBfWvt@I=xqE"><arg name="text" id="btg5epurqsi5g9s242g6" type="string"/></mutation><field name="function_name">logEvent</field><comment pinned="false" h="80" w="160" relx="10" rely="10">Store an event (text) and also send it to serial (USB)</comment><value name="btg5epurqsi5g9s242g6"><shadow type="argument_reporter_string" id="[Gi6hMLi9em1gOM{db,8"><field name="VALUE">text</field></shadow></value><statement name="STACK"><block type="serial_writeline" id="wEA%}UNoh|[.^Y=f%1^U"><value name="text"><shadow type="text" id="*4dc@0rq@+H~GBZ=rg}g"><field name="TEXT"/></shadow><block type="argument_reporter_string" id="H-leal72RAw]EzZ,]`n]"><field name="VALUE">text</field></block></value><next><block type="array_push" id="2VPw@Q3GkUMHvRueE]sI"><value name="list"><block type="variables_get" id="fCuMU05E+K,~{o2HzMp;"><field name="VAR" id="z7caRp!,Gl7U?_]TYfom">dateTimeReadings</field></block></value><value name="value"><block type="function_call_output" id="/zi3$8{`c`mWq![yuj29"><mutation name="dateTimeString" functionid="dUf=s]]`5fYV=pP{9/cu"/></block></value><next><block type="array_push" id="oxllK9erJ=%=J/cR7(vh"><value name="list"><block type="variables_get" id="zCno]J}acrOAOC69Ga%#"><field name="VAR" id="THn4VOHTq10n)f}*:_sU">weightReadings</field></block></value><value name="value"><block type="argument_reporter_string" id="CPs|Q}J~/YhHigh2i=z3"><field name="VALUE">text</field></block></value></block></next></block></next></block></statement></block><block type="function_definition" id="IN(pSWP+hfl]4XQd;#ZC" x="546" y="1543"><mutation name="parseCommand" functionid="KmB61sAGq6L2QZt1^NC("/><field name="function_name">parseCommand</field><statement name="STACK"><block type="variables_set" id="*~]k?18l_/rlEoFuDvx)"><field name="VAR" id="!/Jb^lpAme0xb1jhjB/}">command</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="W3%1TU9_63q?)Fhncw75"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="XGAvmXMyFm^lfZB5Mci@"><field name="VAR" id=":lbO/Mxv))OWE)YV(2;E">stringIn</field></block></value><value name="start"><shadow type="math_number" id="`w4uULQ%WB%2T~hh`6l4"><field name="NUM">0</field></shadow></value><value name="length"><shadow type="math_number" id="UaO6@9L7:I;C#p;:Ucl/"><field name="NUM">2</field></shadow></value></block></value><next><block type="variables_set" id="f?}y9;97`LB21IcN)Dk("><field name="VAR" id="96#:RG9keB@Ku:!v,!|e">params</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="Ca%d[9;;yCR~fzgV@4HA"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="xG`MKmo,vWy^dLDro;I0"><field name="VAR" id=":lbO/Mxv))OWE)YV(2;E">stringIn</field></block></value><value name="start"><shadow type="math_number" id="qQ3wUQS?-qw6RN]ej3u]"><field name="NUM">2</field></shadow></value><value name="length"><block type="math_arithmetic" id="6l#h(gx7OGX[gJg@R(fG"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_length" id="WrEA@Sg2gW9^{X0jrIVq"><value name="VALUE"><block type="variables_get" id="MhXk?/]z4C4g|^QZ-h#P"><field name="VAR" id=":lbO/Mxv))OWE)YV(2;E">stringIn</field></block></value></block></value><value name="B"><shadow type="math_number" id="s@v)?zLuy6OUa=LO/:u0"><field name="NUM">2</field></shadow></value></block></value></block></value><next><block type="controls_if" id=";wf|%E-o{aWf#pGmZ~Ks"><mutation elseif="5" else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="CET)Ct!tVJst+qtR:M+a"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id="oLn/8-c}x,F[Em/$V;NH"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="$1}34L!E48?FJo}M_3/m"><field name="VAR" id="!/Jb^lpAme0xb1jhjB/}">command</field></block></value><value name="that"><shadow type="text" id="KkSB4D!DfeS`4;R-k(WR"><field name="TEXT">rt</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="VD8gCD-_V[9,HR]-Iia9"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="serial_writeline" id=";PJ`?Yl~fY/$|oC|yFyW"><value name="text"><block type="text_join" id="O-=w1o$=5s/O6?h6%WRw"><mutation items="3"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="lcU-FVR|@sSN=[?C?Xpn"><field name="VAR" id="!/Jb^lpAme0xb1jhjB/}">command</field></block></value><value name="ADD1"><shadow type="text" id="R_6fexj2z|8AvuO[dU~7"><field name="TEXT">: </field></shadow></value><value name="ADD2"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="KFIY]_);ap;I};gll9$%"><field name="VAR" id="96#:RG9keB@Ku:!v,!|e">params</field></block></value></block></value><next><block type="serial_writeline" id="50m^}J17OuBrmSCGLhpV"><value name="text"><shadow type="text"><field name="TEXT"/></shadow><block type="function_call_output" id="P]bfp;rmAOD(m/r{ZPr{"><mutation name="dateTimeString" functionid="dUf=s]]`5fYV=pP{9/cu"/></block></value></block></next></block></statement><value name="IF1"><block type="logic_compare" id="iW_dfSZXO5R5R-OM{qdv"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id="T.q4dyQ.:[g^D$]Dq#Hw"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="s!]{GqCbe#)q;e4VS3PZ"><field name="VAR" id="!/Jb^lpAme0xb1jhjB/}">command</field></block></value><value name="that"><shadow type="text" id="0nW_K!:hn%(]v0mb}x5r"><field name="TEXT">st</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="jD7NLBY.y{~hnJHTxfQw"><field name="NUM">0</field></shadow></value></block></value><statement name="DO1"><block type="function_call" id="JK[kr%D%[SwA|N]bS(Pz"><mutation name="setTime" functionid=":5kF?_*avhCWbO8v=8Tn"/></block></statement><value name="IF2"><block type="logic_compare" id="jsN0QjzEHK[PoUdcU19l"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id="OcCT+_x/^}~p87a)w]fh"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="a-G#9_hQ4h`KW28I44#`"><field name="VAR" id="!/Jb^lpAme0xb1jhjB/}">command</field></block></value><value name="that"><shadow type="text" id="GFnq50kLdn%t[sW!32dW"><field name="TEXT">xx</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="I,q.mHpK-kw^aP0XNB}q"><field name="NUM">0</field></shadow></value></block></value><statement name="DO2"><block type="serial_writeline" id="IjoE~G8lGW8JdAFl_t[M"><value name="text"><shadow type="text" id="LI%e9YYH6}|]rs!WSB?$"><field name="TEXT">Deleting stored data!</field></shadow></value><next><block type="function_call" id="9}c;/sXx;D#|A.hgL0}`"><mutation name="deleteReadings" functionid="3*x$Le4rU|C-F.W_)xRL"/></block></next></block></statement><value name="IF3"><block type="logic_compare" id="4,pW7RP+Mrhp(cD(v]75"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id="EtRR(G@Q,OQB+6OsJWYo"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="7a~U,~!Nn*rcKM8c4/GB"><field name="VAR" id="!/Jb^lpAme0xb1jhjB/}">command</field></block></value><value name="that"><shadow type="text" id="D@hAxM[#zs]gmsw6qwj8"><field name="TEXT">mt</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="l6Y+dJ!EPZmKcHW`!*G!"><field name="NUM">0</field></shadow></value></block></value><statement name="DO3"><block type="serial_writeline" id="Dl[!PW)oUA__aCZfA?(O"><value name="text"><shadow type="text" id="p`kW15GJkKr_+1IKYmUc"><field name="TEXT">Emptying tank!</field></shadow></value><next><block type="function_call" id="L^5*,:A:,?PZ#=[`5AAM"><mutation name="emptyTank" functionid="dGpqjZHmw_m|Emrf+t-f"/></block></next></block></statement><value name="IF4"><block type="logic_compare" id="u46IM7fzVxc/Tp0MRy!$"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id="F:a)r2Lq8i4`EM-P,Up="><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="Uih2|-n_0QI2NKkxd](Z"><field name="VAR" id="!/Jb^lpAme0xb1jhjB/}">command</field></block></value><value name="that"><shadow type="text" id="OeCE#Kq`T$[::o{0;FBI"><field name="TEXT">ta</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="~vl1wt;4445M~+|jXc`Z"><field name="NUM">0</field></shadow></value></block></value><statement name="DO4"><block type="serial_writeline" id="YQIkTcB(-7I#x;@+sH9l"><value name="text"><shadow type="text" id="fTkl_D02cq{fP,cJihas"><field name="TEXT">Doing tare!</field></shadow></value><next><block type="function_call" id="-Szv=hCWh~tM:=N{2uN{"><mutation name="doTare" functionid="/-=H6e~$_TEF0%*qE}fQ"/></block></next></block></statement><value name="IF5"><block type="logic_compare" id="7p0CH^ahrg#gKJTBB]@T"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id="n5o+^9AD*k]B*p+N9yBn"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="B@t8fqQ9a8aLoLBVmhVE"><field name="VAR" id="!/Jb^lpAme0xb1jhjB/}">command</field></block></value><value name="that"><shadow type="text" id="p2pZe-U5CDLh[=SInSDc"><field name="TEXT">up</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="rO|=0wwnL25;q;5|0KVj"><field name="NUM">0</field></shadow></value></block></value><statement name="DO5"><block type="function_call" id="3}ZzL2-XzT`q~UVGI*^B"><mutation name="uploadUSB" functionid="Oz80fjGr2;UJO~]jVV9."/></block></statement><statement name="ELSE"><block type="serial_writeline" id=",wa;r;ctw0ivuDVYRStu"><value name="text"><shadow type="text" id="4ZHA+F:nAUew@^6~!kQ$"><field name="TEXT">Invalid command</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type="function_definition" id="Vp|+S~Ei[UNLT+C[wC`0" x="2910" y="1453"><mutation name="setTime" functionid=":5kF?_*avhCWbO8v=8Tn"/><field name="function_name">setTime</field><comment pinned="false" h="80" w="160" relx="10" rely="10">set the time - from serial USB ONLY</comment><statement name="STACK"><block type="serial_writeline" id="[=8I0jO7beWhuZ94,N0D"><value name="text"><block type="text_join" id=";,{=!+/0v%[7[~vsE/kN"><mutation items="3"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="X`hPE1ec+k`w!i0b!MLB"><field name="VAR" id="!/Jb^lpAme0xb1jhjB/}">command</field></block></value><value name="ADD1"><shadow type="text" id="~ToP{H/CYG][wp!(FrY:"><field name="TEXT">: </field></shadow></value><value name="ADD2"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="E/f=UdMr^Ne-87GzRHY$"><field name="VAR" id="96#:RG9keB@Ku:!v,!|e">params</field></block></value></block></value><next><block type="variables_set" id="-MyFsgV9nLFPn(66DKU="><field name="VAR" id="~GX`OkmkT(H^MMuSL$;I">yr</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="L6;QyY@NB2+G!MvU%_XO"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="9#@ZM%]_|.)gSKb(r.;("><field name="VAR" id="96#:RG9keB@Ku:!v,!|e">params</field></block></value><value name="start"><shadow type="math_number" id="OL+Cx=;xyb?:QzPi3Hx1"><field name="NUM">0</field></shadow></value><value name="length"><shadow type="math_number" id="B.?WBJR:qm:Ia@HA?9O0"><field name="NUM">4</field></shadow></value></block></value><next><block type="variables_set" id="uhl0~zwaGwFnzqrm0Rh*"><field name="VAR" id="jF_0{;iNedTZDrXJ}]E@">mo</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="?ysR$b{5j|J5-(dC/.js"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="-i:Q{@p58Efan/05h?LU"><field name="VAR" id="96#:RG9keB@Ku:!v,!|e">params</field></block></value><value name="start"><shadow type="math_number" id="C0-a8naXKP;{wX|gMBf-"><field name="NUM">4</field></shadow></value><value name="length"><shadow type="math_number" id="I^SZrigyxE0!8@#$$y]M"><field name="NUM">2</field></shadow></value></block></value><next><block type="variables_set" id="gDDy!tjUdut-V8}8A3?w"><field name="VAR" id="eyp[t{j_-nI)E%Y$s9k+">dt</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="q@,v})+Bk((e+waIbEDG"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="$wVH1wnMdO:9RJLOZ6b|"><field name="VAR" id="96#:RG9keB@Ku:!v,!|e">params</field></block></value><value name="start"><shadow type="math_number" id="h?]R*/QsAvwsK4l/%1E|"><field name="NUM">6</field></shadow></value><value name="length"><shadow type="math_number" id="3j19v/#L;4n@vmgGH/h:"><field name="NUM">2</field></shadow></value></block></value><next><block type="variables_set" id="yRVj-!r9_CerLjis}Zzx"><field name="VAR" id="b#{KibGcy;U8xRI%sKnY">hh</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="BemPR=jGZpa+L#,xyNM#"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id=",mbaeaYiI@+3YA8,{4S5"><field name="VAR" id="96#:RG9keB@Ku:!v,!|e">params</field></block></value><value name="start"><shadow type="math_number" id="Lm``CN2?(,a5N]rizQo."><field name="NUM">8</field></shadow></value><value name="length"><shadow type="math_number" id=".jIf!UVY,JCF%L02%taZ"><field name="NUM">2</field></shadow></value></block></value><next><block type="variables_set" id="WOsVhv?EJ=0!J19UzZ{y"><field name="VAR" id="-%cdYfR4jyiXRSYu90S?">mm</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="%,KLe[f*hRP%DK`zV%0U"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="m2QoeOCn92;%fru+0{Xp"><field name="VAR" id="96#:RG9keB@Ku:!v,!|e">params</field></block></value><value name="start"><shadow type="math_number" id="R1#SoN+!GF(r9H-WeF?^"><field name="NUM">10</field></shadow></value><value name="length"><shadow type="math_number" id="by4]I43@-A1]5,lu)ty8"><field name="NUM">2</field></shadow></value></block></value><next><block type="DS3231_SET_DATETIME" id="1$;HYV$Hxp$ID1h*a92z"><value name="year"><shadow type="math_number_minmax"><mutation min="2000" max="2099"/><field name="SLIDER">0</field></shadow><block type="string_parsefloat" id="z?ygUZQWLp^Za+/fmw}!"><value name="text"><block type="variables_get" id="QD?,=GjHx/SB!^]|^j%w"><field name="VAR" id="~GX`OkmkT(H^MMuSL$;I">yr</field></block></value></block></value><value name="month"><shadow type="math_number_minmax"><mutation min="1" max="12"/><field name="SLIDER">0</field></shadow><block type="string_parsefloat" id="DgsNl0i:+B8)TD*Nb}TJ"><value name="text"><block type="variables_get" id="qX4mq^B`FvFW!|6_($p@"><field name="VAR" id="jF_0{;iNedTZDrXJ}]E@">mo</field></block></value></block></value><value name="date"><shadow type="math_number_minmax"><mutation min="1" max="31"/><field name="SLIDER">0</field></shadow><block type="string_parsefloat" id="^*.d1nsps1=t7aC8s34r"><value name="text"><block type="variables_get" id="~_DR!DfAmOlfMPvHwJ:m"><field name="VAR" id="eyp[t{j_-nI)E%Y$s9k+">dt</field></block></value></block></value><value name="day"><shadow type="math_number_minmax" id="]S_IBDs@0bzrEG=N(=:="><mutation min="1" max="7" label="Number" precision="0"/><field name="SLIDER">4</field></shadow></value><value name="hour"><shadow type="math_number_minmax"><mutation min="0" max="23"/><field name="SLIDER">0</field></shadow><block type="string_parsefloat" id="oqDWwoUj.O5t*#pCZhs("><value name="text"><block type="variables_get" id="]HlD+hcqGH%`zsbQN/Y?"><field name="VAR" id="b#{KibGcy;U8xRI%sKnY">hh</field></block></value></block></value><value name="minute"><shadow type="math_number_minmax"><mutation min="0" max="59"/><field name="SLIDER">0</field></shadow><block type="string_parsefloat" id="sV3Cvfv0)A=5hF9^9qjC"><value name="text"><block type="variables_get" id="xPB{+6KgZ)xH,`xkWcn}"><field name="VAR" id="-%cdYfR4jyiXRSYu90S?">mm</field></block></value></block></value><value name="second"><shadow type="math_number_minmax" id="Ne${gXxD{W5ynuO{amit"><mutation min="0" max="59" label="Number" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="serial_writeline" id="}!{_R%;XjED1rZ%6;KHP"><value name="text"><shadow type="text" id="rk`];f[y!]=0hm)O%Niz"><field name="TEXT">#Date &amp; time have been set</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="zH975()L/{Vk?@X|.(Bi" x="1888" y="1536"><mutation name="doTare" functionid="/-=H6e~$_TEF0%*qE}fQ"/><field name="function_name">doTare</field><statement name="STACK"><block type="function_call" id="==3;x/PoCU^miU=WR`|~"><mutation name="logEvent" functionid="47!df`*?qBfWvt@I=xqE"><arg name="text" id="btg5epurqsi5g9s242g6" type="string"/></mutation><value name="btg5epurqsi5g9s242g6"><shadow type="text" id="p$K/;L=d?P|Eg)d|C2%F"><field name="TEXT">#Doing tare</field></shadow></value><next><block type="device_pause" id="wHeEGKu*hm)AIfWYiyQ2"><value name="pause"><shadow type="timePicker" id="uNy,o7q+ia@8fx/cPP3["><field name="ms">100</field></shadow><block type="variables_get" id="i9rln!s9bKJ*R$l{|}^O"><field name="VAR" id="G^~86z7EYi]b=9BiInZg">pumpSettleTime</field></block></value><next><block type="variables_set" id="{XCge=8o%C=d4[]*Z1-!"><field name="VAR" id="o[.:1cIDVX+2J}K!C%+P">tareActive</field><value name="VALUE"><shadow type="math_number" id="Hh4Zi.`L?j)R%_?D4~?B"><field name="NUM">1</field></shadow></value><next><block type="HX711_UP" id="0U=#O:A#=+?iXE|tzRg."><next><block type="HX711_TARE" id="9%.(y+dys~~Wp#e}@j9}"><value name="times"><shadow type="math_number" id=")+k/IiCwC!MANT-1:tVn"><field name="NUM">10</field></shadow><block type="variables_get" id="F|9s^X)-E2W8^H6nyeqo"><field name="VAR" id="F3TIJf.#U^0^i7-v=n$H">numTare</field></block></value><next><block type="HX711_DOWN" id="K8m+L.`Q6F.A-cDy%~BC"><next><block type="variables_set" id="U9ZsEwDx*QOdT0WJ(KIv"><field name="VAR" id="o[.:1cIDVX+2J}K!C%+P">tareActive</field><value name="VALUE"><shadow type="math_number" id="Dz_QV6Cc]NR}nPER`LmD"><field name="NUM">0</field></shadow></value><next><block type="function_call" id="3sflKanq$Iu)+diB7lIf"><mutation name="storeWeight" functionid="NS[z)Tl]})bpRQt#Ct.@"/></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="SwgZsncC?Cy=E1by/~WO" x="3752" y="1588"><mutation name="upload" functionid="wPb?VCmxQ`K9V;S$;seX"/><field name="function_name">upload</field><statement name="STACK"><block type="variables_set" id="VzS.x!giYThDa:Lt5aI~"><field name="VAR" id=":+nQWG]vAcj1lQ*]YOc2">readingsLength</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_length" id="XmCDE:1KOIQ[uhgMG1L6"><value name="VALUE"><block type="variables_get" id="Xw(~}]C[2-`V6,,m]Fuj"><field name="VAR" id="z7caRp!,Gl7U?_]TYfom">dateTimeReadings</field></block></value></block></value><next><block type="controls_if" id="~=Khz+yTM.H)P|`oAJ8`"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="02M*B%OGk^Ibr4DJ~Q|b"><field name="OP">NEQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="J%eY]XItWNCmY_F|^y~@"><field name="VAR" id=":+nQWG]vAcj1lQ*]YOc2">readingsLength</field></block></value><value name="B"><shadow type="math_number" id="Mn;vKxb0z-[coZyMV$%H"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="pxt_controls_for" id="qsk09N`Jc0{s*L8(T@xh"><value name="VAR"><shadow type="variables_get_reporter" id="gHO~0i2NMiybUN{/#!+0"><field name="VAR" id="J8%`JUVwR.=^!J6Z.Tqd">index2</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="]q^S,jfK?#^v//.//+4F"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="0M`FJ`3:a-RqoNl-%VoU"><field name="VAR" id=":+nQWG]vAcj1lQ*]YOc2">readingsLength</field></block></value><value name="B"><shadow type="math_number" id=",;#!,O_m9L4-FfbiO(wr"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="controls_if" id="LT6J[(Xmev.MvUQ!gd=B"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=":VqyBg+7ZvZ)qVN-%te|"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="pf).hExyLGZ,frcpJ)o;"><field name="VAR" id="a6br+I!8,{Rl?sb*is8Z">connected</field></block></value><value name="B"><shadow type="math_number" id="tME=I3*H2A/`[4?kw7cy"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="bluetooth_uart_write" id="vUQe78Lst9!k49oN9_1X"><value name="data"><block type="lists_index_get" id="4?%auIr,=C64g/maMfWa"><value name="LIST"><block type="variables_get" id="Z-r#rOBZrjt6(MG](DbI"><field name="VAR" id="z7caRp!,Gl7U?_]TYfom">dateTimeReadings</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="j)^i*iclyXSqWXq#kTOQ"><field name="VAR" id="J8%`JUVwR.=^!J6Z.Tqd">index2</field></block></value></block></value><next><block type="device_pause" id="p+0a$TKZ$!eE)/lQIzoQ"><value name="pause"><shadow type="timePicker" id="GT%P[QFUb2LN``vNhwli"><field name="ms">50</field></shadow></value><next><block type="bluetooth_uart_line" id="MSAoKL}H.+=@mLpP2+E^"><value name="data"><block type="lists_index_get" id="*m=GVck;gVbhFL.!mG_N"><value name="LIST"><block type="variables_get" id="0O~i%=)4u%u.Jg$mrv2%"><field name="VAR" id="THn4VOHTq10n)f}*:_sU">weightReadings</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="SBV[%~#dd/wFLx*0TE4y"><field name="VAR" id="J8%`JUVwR.=^!J6Z.Tqd">index2</field></block></value></block></value><next><block type="device_pause" id="z^+#PJooD,J;|3-x,Gr$"><value name="pause"><shadow type="timePicker" id="~swq,AwfV4Aut+Vr|J=`"><field name="ms">50</field></shadow></value></block></next></block></next></block></next></block></statement></block></statement><next><block type="basic_show_icon" id="~Pdiaqs,wvhG,S#Za}a,"><field name="i">IconNames.Yes</field></block></next></block></statement><statement name="ELSE"><block type="bluetooth_uart_line" id="^FE@B!D!:LaO8}DPV+Sm"><value name="data"><shadow type="text" id="A.58RY9_?4d^X)Z|H4Qd"><field name="TEXT">No stored readings!</field></shadow></value></block></statement></block></next></block></statement></block><block type="function_definition" id="vY$:UTe7j.-qt41MGB#g" x="2228" y="1704"><mutation name="deleteReadings" functionid="3*x$Le4rU|C-F.W_)xRL"/><field name="function_name">deleteReadings</field><statement name="STACK"><block type="variables_set" id="TwF0bW)+4`z`svf,lYv:"><field name="VAR" id=":+nQWG]vAcj1lQ*]YOc2">readingsLength</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_length" id="`1DJ4`{A0,g3$#g8g+lG"><value name="VALUE"><block type="variables_get" id="Yh[.H=[DEW(vx@G]9zap"><field name="VAR" id="z7caRp!,Gl7U?_]TYfom">dateTimeReadings</field></block></value></block></value><next><block type="controls_repeat_ext" id="tMw`0e5)EEq8=#l[e`3V"><value name="TIMES"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="variables_get" id="^=~2C!qj_$vYO_,y,p3z"><field name="VAR" id=":+nQWG]vAcj1lQ*]YOc2">readingsLength</field></block></value><statement name="DO"><block type="array_pop_statement" id="g3BJo20l)T};Ao#v|C}Y"><value name="list"><block type="variables_get" id="ncprt}qo|3doM:)tIv97"><field name="VAR" id="z7caRp!,Gl7U?_]TYfom">dateTimeReadings</field></block></value><next><block type="array_pop_statement" id="f-#u,+zd+U)M//9)Tk2)"><value name="list"><block type="variables_get" id="iolLj%)Yrs:5QQcJ-3=f"><field name="VAR" id="THn4VOHTq10n)f}*:_sU">weightReadings</field></block></value></block></next></block></statement></block></next></block></statement></block><block type="function_definition" id="_%9)rD++uIz*[KXzeQGv" x="4607" y="1583"><mutation name="uploadUSB" functionid="Oz80fjGr2;UJO~]jVV9."/><field name="function_name">uploadUSB</field><statement name="STACK"><block type="variables_set" id="n{kB{CosWv1MH6(q~RrP"><field name="VAR" id=":+nQWG]vAcj1lQ*]YOc2">readingsLength</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_length" id="?u[ZTzsqdvKt:@~XGu=X"><value name="VALUE"><block type="variables_get" id="h@0nRhq^niw0q69Sy84="><field name="VAR" id="z7caRp!,Gl7U?_]TYfom">dateTimeReadings</field></block></value></block></value><next><block type="controls_if" id="$d%+zJ-|@r4s2nX4cpHy"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="mZ*|-%XtKk+op=$uQ$52"><field name="OP">NEQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="};M4x4vC@}iPz)qqI4a*"><field name="VAR" id=":+nQWG]vAcj1lQ*]YOc2">readingsLength</field></block></value><value name="B"><shadow type="math_number" id="u=!Z.6$,;8-8%u,JKbu5"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="pxt_controls_for" id="w]pTY@.BZ4*zFn)%R0x4"><value name="VAR"><shadow type="variables_get_reporter" id="6`juBsa:w)+FjnKqsGJ!"><field name="VAR" id="J8%`JUVwR.=^!J6Z.Tqd">index2</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="I3,sg$-#2oiJvR0M{BCd"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="]JZgy5Zs:4O=02*wsu5/"><field name="VAR" id=":+nQWG]vAcj1lQ*]YOc2">readingsLength</field></block></value><value name="B"><shadow type="math_number" id="8--NIBPL4cWGbm6xvgLg"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="controls_if" id="n$imiQo7Pmm_]esw@@Di"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=".t44@(I={oXNm{zw:f)0"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="jOXbQL2uiKwa/aVoP$:P"><field name="VAR" id="a6br+I!8,{Rl?sb*is8Z">connected</field></block></value><value name="B"><shadow type="math_number" id="e]gA~nt7jdE0KUY7IyVg"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="serial_writestring" id="Z+s/1(h@p2l1btvd2N3C"><value name="text"><shadow type="text" id="7ie@?X{Z;Jhc|L%8m;#D" disabled="true"><field name="TEXT"/></shadow><block type="lists_index_get" id="):`?G$x)W;z?M@7VTPfG"><value name="LIST"><block type="variables_get" id="lgw{#^h29v:J7N8,D*rP"><field name="VAR" id="z7caRp!,Gl7U?_]TYfom">dateTimeReadings</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="~a/tlhL*g;=Q[KUnfK|7"><field name="VAR" id="J8%`JUVwR.=^!J6Z.Tqd">index2</field></block></value></block></value><next><block type="device_pause" id="QY7td@?(kUtz@%b0-qP+"><value name="pause"><shadow type="timePicker" id="748f@w()8+JnP#k-lG2V"><field name="ms">50</field></shadow></value><next><block type="serial_writeline" id="/~yP`G4JTnF;~c[_!BT+"><value name="text"><shadow type="text" id="_o`X[X7+XK7hp{Ph3;dL" disabled="true"><field name="TEXT"/></shadow><block type="lists_index_get" id="_0?A+Em2*}~.xXMfqaS$"><value name="LIST"><block type="variables_get" id="g#(J?.kuzVLp8!XsL]oy"><field name="VAR" id="THn4VOHTq10n)f}*:_sU">weightReadings</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Dk*da1hd`6_cPE5l*4h5"><field name="VAR" id="J8%`JUVwR.=^!J6Z.Tqd">index2</field></block></value></block></value><next><block type="device_pause" id=".sn$yW.pEZ,;vhS%KJJz"><value name="pause"><shadow type="timePicker" id="$5K61A*SHG@v5/KDp-W*"><field name="ms">50</field></shadow></value></block></next></block></next></block></next></block></statement></block></statement><next><block type="serial_writeline" id="I4Fbv,CX}l=N0X!S_Plh"><value name="text"><shadow type="text" id="P5D5?9:r5+NyJ7C8Qgkl"><field name="TEXT">Upload completed</field></shadow></value></block></next></block></statement><statement name="ELSE"><block type="serial_writeline" id="K-5.K;Mx8*I{0N|@Cx!+"><value name="text"><shadow type="text" id="d@^_6#wm):*cnq,3g)*R"><field name="TEXT">No stored readings!</field></shadow></value></block></statement></block></next></block></statement></block><block type="function_definition" id="gR@9)LSzuZ,$LMm3`Ny/" x="1349" y="1779"><mutation name="pumpControl" functionid="6:x;,D8u.NSmif-S+Js^"><arg name="pumpState" id="x28bbz4ft2j1hu9v3bajo" type="number"/></mutation><field name="function_name">pumpControl</field><value name="x28bbz4ft2j1hu9v3bajo"><shadow type="argument_reporter_number" id="j2o$w:K{$.E^%3XS+$M~"><field name="VALUE">pumpState</field></shadow></value><statement name="STACK"><block type="device_set_digital_pin" id="9(@lIvgmPWDpgDc)]2}9"><field name="name">DigitalPin.P8</field><value name="value"><shadow type="math_number_minmax"><mutation min="0" max="1"/><field name="SLIDER">0</field></shadow><block type="argument_reporter_number" id="!e,lJ63zd=H;3Ejw^*I{"><field name="VALUE">pumpState</field></block></value></block></statement></block></xml>