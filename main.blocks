<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="6K0muk2h.ZaA8Tjc%yg}">offsetted</variable><variable id="F$`0O_#=BG5:@xFB1cpQ">rawWeight</variable><variable id="y[#sI_$5j+rvmAfp06sa">rawWeightx10</variable><variable id="A*gbl!$4aAOIzv7t%9!U">weight</variable><variable id="1JMpC1i+G6Z):y[C$]fE">pumpState</variable><variable id="Ze*,tx+%vRIZ+X6:~Jl:">rawOffset</variable><variable id="Vov|~9sQ:Mp/?EO5mLH+">tareActive</variable><variable id="(F2AB}S9Eg2Dtlx^tWz!">weightLimit</variable><variable id="?f6^lc,Q(t)n=HOX`Y0_">weightDelta</variable><variable id="-~hl%?.d{`4n^PnY^G-^">weightPrevious</variable><variable id="FE{y^/SwS;)mGScT!}?h">pumpTime</variable></variables><block type="pxt-on-start" id="B]muu=)KyxV#)yqIJYsF" x="0" y="5"><statement name="HANDLER"><block type="variables_set" id=")O}b{@X%CN-S4r1t=Kxm"><field name="VAR" id="(F2AB}S9Eg2Dtlx^tWz!">weightLimit</field><value name="VALUE"><shadow type="math_number" id="j+~v.xY`2!AI0-3o|HBe"><field name="NUM">350</field></shadow></value><next><block type="variables_set" id="E*ENh4}U*]Iz68qoQy]I"><field name="VAR" id="Vov|~9sQ:Mp/?EO5mLH+">tareActive</field><value name="VALUE"><shadow type="math_number" id="xDcHqe8DeEP.)W*]kP{2"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="aQH_4}E#EhlTC;x_B+$W"><field name="VAR" id="FE{y^/SwS;)mGScT!}?h">pumpTime</field><value name="VALUE"><shadow type="math_number" id=";{M[Rg3l?!0`KXoZyf5d"><field name="NUM">10000</field></shadow></value><next><block type="function_call" id="u$6izeDs^*?Y,CZ}3-B{"><mutation name="pumpControl" functionid="Lg|X#2WuO)p.Mn,A/L9["><arg name="pumpState" id="C!6Xxuo3|V1b0WwUAXoc" type="number"/></mutation><value name="C!6Xxuo3|V1b0WwUAXoc"><shadow type="math_number" id="rvL6Mooo!`zFvM]T^8;$"><field name="NUM">0</field></shadow></value><next><block type="function_call" id="0,V]4lCQ`m90Ai@0uLWT"><mutation name="doTare" functionid="2C:Z;n]Sl%X-I|?lQ+Y?"/><next><block type="SET_DOUT" id="0T,v++fOT_Ps*PgXjN~A"><field name="pinDOUT">DigitalPin.P1</field><next><block type="SET_SCK" id=",*+fnK`!r?w)|]Zq=tno"><field name="pinPD_SCK">DigitalPin.P2</field><next><block type="HX711_BEGIN" id="9c%J(?YrRBsB844?B|ix"><next><block type="HX711_SET_OFFSET" id="kp#G/Q?@Ou=uhKL~b!f|"><value name="offset"><shadow type="math_number" id="!#2Eh4b~buG1_#pzc?K7"><field name="NUM">8481274</field></shadow></value><next><block type="HX711_SET_SCALE" id="V-~s[k+bl!*Php[:~coZ"><value name="scale"><shadow type="math_number" id="4~3LB7qV@KZDg3}e|?[M"><field name="NUM">413</field></shadow></value><next><block type="serial_writeline" id="WQX;TqW6f,fTi=qTG,GV"><value name="text"><shadow type="text" id="FaSWW#m7k3LLF,cP#QQ|"><field name="TEXT">Press A to toggle Pump, B to tare</field></shadow></value><next><block type="serial_writeline" id="|sP^SJIZzJ#5OpHN1j@O"><value name="text"><shadow type="text" id="X__Tm6^UFY18|bzr8O7V"><field name="TEXT"/></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="/*FL_^v);U6P`6$}Zx2H" x="643" y="0"><field name="NAME">Button.A</field><comment pinned="false" h="80" w="160">Button A =&gt; Pump toggle</comment><statement name="HANDLER"><block type="controls_if" id="0E$6}CWClUj@_5J%9`6U"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="O~lz$sJG_DK?5tj#n-mG"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="09kgyN^-W@$^f$^scDKE"><field name="VAR" id="1JMpC1i+G6Z):y[C$]fE">pumpState</field></block></value><value name="B"><shadow type="math_number" id="UTjBGc;V7D|YGPH-]/(~"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id=",ba:OCcx[/{oC;(Xvsuv"><field name="VAR" id="1JMpC1i+G6Z):y[C$]fE">pumpState</field><value name="VALUE"><shadow type="math_number" id="If(wy{Q^*j~M`ckaI0[k"><field name="NUM">1</field></shadow></value></block></statement><statement name="ELSE"><block type="variables_set" id="w*](TtNPOHrjhurS_)2}"><field name="VAR" id="1JMpC1i+G6Z):y[C$]fE">pumpState</field><value name="VALUE"><shadow type="math_number" id="Vi+u,ZhEfx*zYfuerRLS"><field name="NUM">0</field></shadow></value></block></statement><next><block type="function_call" id="Mlrq6[QuhQS1Q`}{,wMq"><mutation name="pumpControl" functionid="Lg|X#2WuO)p.Mn,A/L9["><arg name="pumpState" id="C!6Xxuo3|V1b0WwUAXoc" type="number"/></mutation><value name="C!6Xxuo3|V1b0WwUAXoc"><shadow type="math_number" id="mPZ+{u6}T6A1#%U:o|VE"><field name="NUM">0</field></shadow><block type="variables_get" id="{s;LS7k|-r`r(f3,t}tW"><field name="VAR" id="1JMpC1i+G6Z):y[C$]fE">pumpState</field></block></value></block></next></block></statement></block><block type="device_button_event" id="7sVV?`hnDH0COOg%P(nd" x="643" y="413"><field name="NAME">Button.B</field><comment pinned="false" h="80" w="160">Button B =&gt; Tare</comment><statement name="HANDLER"><block type="function_call" id="~{:CIOY[3@mI)a~];U5W"><mutation name="doTare" functionid="2C:Z;n]Sl%X-I|?lQ+Y?"/></block></statement></block><block type="function_definition" id="sc7b*cPs(p*7W:Oo~`K$" x="1021" y="405"><mutation name="doTare" functionid="2C:Z;n]Sl%X-I|?lQ+Y?"/><field name="function_name">doTare</field><statement name="STACK"><block type="serial_writeline" id="tqtSV=5dbKxROm^nX8[d"><value name="text"><shadow type="text" id=")s#=8:E.[}A+@4P?rKm}"><field name="TEXT">Doing tare</field></shadow></value><next><block type="variables_set" id="aW[U]A_}9YcHu5]u`J@9"><field name="VAR" id="Vov|~9sQ:Mp/?EO5mLH+">tareActive</field><value name="VALUE"><shadow type="math_number" id="a:^NxYyTG45x?C);h45V"><field name="NUM">1</field></shadow></value><next><block type="HX711_UP" id="E]P|gTazactk9vZ?a+K="><next><block type="HX711_TARE" id="[Vp(d:/V+nI3Gh}@;nq#"><value name="times"><shadow type="math_number" id="g#)iRi2sqG-4ZS83Buv,"><field name="NUM">10</field></shadow></value><next><block type="HX711_DOWN" id="C4.`}+P%X$xzILu8U`_B"><next><block type="variables_set" id="Bm={Q5K?x@elQFM8/9ZA"><field name="VAR" id="Vov|~9sQ:Mp/?EO5mLH+">tareActive</field><value name="VALUE"><shadow type="math_number" id="TKDkU7{{[o7vrebz#QC?"><field name="NUM">0</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="4BOB{j8MdG=Btw.zBt3i" x="16" y="786"><statement name="HANDLER"><block type="controls_if" id="$AfoIGwam2[[k^2O.-W}"><comment pinned="false" h="80" w="160">Display continuously unless tare is operating</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="2IQ8Zi*k:ACeM.Cn5fpK"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="/(1BnRu=?gFy]o$m9@F5"><field name="VAR" id="Vov|~9sQ:Mp/?EO5mLH+">tareActive</field></block></value><value name="B"><shadow type="math_number" id="Vg5NQ{ES{CC(rz(dNzwe"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="HX711_UP" id="q5=npq:Z`%K?aN9K9`;%"><next><block type="function_call" id="5Id]E~0r6eUH`4CVfs,)"><mutation name="showWeight" functionid="YI#0e#ky7{P,J%!egKX."/><next><block type="HX711_DOWN" id="?G/)4M4`L0$Q)P7*cx=!"><next><block type="controls_if" id="rwqdn`9V,h*qj9ZoxqF5"><value name="IF0"><shadow type="logic_boolean" id="^_)i)Do%A[M+PAu(,THb"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="hf4;l=bbDytx!|X)RyRC"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="A`Qe}|Gm$b9akKa,.XFD"><field name="NUM">0</field></shadow><block type="variables_get" id="-jr9xy(W8ZDY*(lnr`w@"><field name="VAR" id="A*gbl!$4aAOIzv7t%9!U">weight</field></block></value><value name="B"><shadow type="math_number" id="vyii8)PQH05O*Y`ZG+dZ"><field name="NUM">0</field></shadow><block type="variables_get" id="|YbfORq|~.a;26@$Jnpb"><field name="VAR" id="(F2AB}S9Eg2Dtlx^tWz!">weightLimit</field></block></value></block></value><statement name="DO0"><block type="serial_writeline" id="H:S-}be9%VbQPW(wR1A["><value name="text"><shadow type="text" id="xUMsRy:+l.7;L@sy+sZS"><field name="TEXT">Pump ON</field></shadow></value><next><block type="function_call" id="Tk`=a@^3vpWmhd:iHIP["><mutation name="pumpControl" functionid="Lg|X#2WuO)p.Mn,A/L9["><arg name="pumpState" id="C!6Xxuo3|V1b0WwUAXoc" type="number"/></mutation><value name="C!6Xxuo3|V1b0WwUAXoc"><shadow type="math_number" id="6O[CAM[K=U#a8=(*;1CX"><field name="NUM">1</field></shadow></value><next><block type="device_pause" id="|@RCrB+l-e7JF-Ythw^q"><comment pinned="false" h="80" w="160">Delay of ~1-2s is important</comment><value name="pause"><shadow type="timePicker" id="TC~K2PH48_Sk8R9RG7.I"><field name="ms">1000</field></shadow><block type="variables_get" id=",3G;#j;t*3Zn)k,AB~,g"><field name="VAR" id="FE{y^/SwS;)mGScT!}?h">pumpTime</field></block></value><next><block type="function_call" id="w2.~RGig)*!0Iy=I:X*M"><mutation name="pumpControl" functionid="Lg|X#2WuO)p.Mn,A/L9["><arg name="pumpState" id="C!6Xxuo3|V1b0WwUAXoc" type="number"/></mutation><value name="C!6Xxuo3|V1b0WwUAXoc"><shadow type="math_number" id="m~X!RpVF,;=v.CL?7Mh;"><field name="NUM">0</field></shadow></value><next><block type="serial_writeline" id="u}pj9dU=MCPJT4bf0[Z."><value name="text"><shadow type="text" id="*FS$NViQ}{`c2VZP]y/I"><field name="TEXT">Pump OFF</field></shadow></value><next><block type="device_pause" id="(O{3{#qmx75utjs%@0aj"><value name="pause"><shadow type="timePicker" id="S|48SKcLy80?Q~vt)vUO"><field name="ms">10000</field></shadow></value><next><block type="serial_writeline" id="u;u(M)4@DTKof@u2Ock8"><value name="text"><shadow type="text" id=";O~~*Tf-r:-5SnAHg@)#"><field name="TEXT">Tare active</field></shadow></value><next><block type="function_call" id="U:X?Q!UFo8}dy^jhFPA!"><mutation name="doTare" functionid="2C:Z;n]Sl%X-I|?lQ+Y?"/><next><block type="serial_writeline" id="ZiG|cx_dY~J%2z?a9kMC"><value name="text"><shadow type="text" id="f]1fiBLrsi^foK!#^$U}"><field name="TEXT">Resume weighing</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement><next><block type="device_pause" id="8,Qe9XLJ;Jv5u65h]gb,"><comment pinned="false" h="80" w="160">Delay of ~1-2s is important</comment><value name="pause"><shadow type="timePicker" id="7iR$Pwg=$e[ibo3gCZSt"><field name="ms">2000</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="F)}`Hwwj%.B#D%v?7.SN" x="648" y="764"><mutation name="showWeight" functionid="YI#0e#ky7{P,J%!egKX."/><field name="function_name">showWeight</field><statement name="STACK"><block type="variables_set" id="DM/4v[+}%o;a]j{8uxf0"><field name="VAR" id="F$`0O_#=BG5:@xFB1cpQ">rawWeight</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="HX711_GET_UNITS" id="s^|*Mm69{2~KzE3}{_s?"><value name="times"><shadow type="math_number" id="XoO|M([v)$L?M+u9CP36"><field name="NUM">20</field></shadow></value></block></value><next><block type="variables_set" id="UJT2/pB^lw6A](+p^/Q2"><field name="VAR" id="y[#sI_$5j+rvmAfp06sa">rawWeightx10</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="+ut)21!!Kpq7NOzD_@H?"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Bc;v}UJp=+JGdRmqpI?G"><field name="VAR" id="F$`0O_#=BG5:@xFB1cpQ">rawWeight</field></block></value><value name="B"><shadow type="math_number" id="Lx*v9`V2gW{wZ|iifg`V"><field name="NUM">10</field></shadow></value></block></value><next><block type="variables_set" id="|AXK8|%gt8}fFQSGcKWc"><field name="VAR" id="A*gbl!$4aAOIzv7t%9!U">weight</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="B`w!h^GCm0/V*Ah{Zg{4"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_round" id="g?:t-9F,t04yCL]hxxj#"><field name="OP">round</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="|_wgZ_B!tEW]G$jG4Mt:"><field name="VAR" id="y[#sI_$5j+rvmAfp06sa">rawWeightx10</field></block></value></block></value><value name="B"><shadow type="math_number" id="-*URh$jQ:B@0jn;s0cnt"><field name="NUM">10</field></shadow></value></block></value><next><block type="serial_writeline" id="qX=CW}=[+P22f*L?4Lbs"><value name="text"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join" id="KA:,g8$T;sGZt3t=1k8B"><mutation items="2"/><value name="ADD0"><shadow type="text"><field name="TEXT">Hello</field></shadow><block type="variables_get" id="lPBhmQ)_9O8x3bK3j[LZ"><field name="VAR" id="A*gbl!$4aAOIzv7t%9!U">weight</field></block></value><value name="ADD1"><shadow type="text" id="%+rr%!wT.+H!CEK!;al8"><field name="TEXT">g</field></shadow></value></block></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="+F7=:%LglckS?T)GbF[N" x="682" y="1311"><mutation name="pumpControl" functionid="Lg|X#2WuO)p.Mn,A/L9["><arg name="pumpState" id="C!6Xxuo3|V1b0WwUAXoc" type="number"/></mutation><field name="function_name">pumpControl</field><value name="C!6Xxuo3|V1b0WwUAXoc"><shadow type="argument_reporter_number" id="f@NzGMIfRwWag)u4[m-G"><field name="VALUE">pumpState</field></shadow></value><statement name="STACK"><block type="device_set_digital_pin" id="1AD9m$q:CzN}`,((otg0"><field name="name">DigitalPin.P8</field><value name="value"><shadow type="math_number_minmax"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">0</field></shadow><block type="variables_get" id="km1#WIXIo3*-Gj09hjff"><field name="VAR" id="1JMpC1i+G6Z):y[C$]fE">pumpState</field></block></value></block></statement></block></xml>